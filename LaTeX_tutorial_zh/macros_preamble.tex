% This file is common preamble region, 
% it will load in .cls, before hyperref and cleveref package. 
% If your package need load aftre hyperref (to get link function), 
% please load in main.tex by \usepackage{package}
% Use \RequirePackage{package} in this file to load package.
% --------------------------------------------------
\addbibresource{tutorial.bib} % add your bib file here

\usepackage{textcomp} % 貝利
\usepackage{xltxtra} % for \XeLaTeX logo only
% display latex code with result.(will use listings path,must change to root tex)
\usepackage{showexpl} 

% This is for \parindent in LTXexample env. \parindentsave in macros_preamble.tex,
% so creat \parindentsave here even did not use showexpl package.
% see. http://tex.stackexchange.com/questions/98302/how-to-prevent-ltxexample-from-ignoring-the-paragraph-indentation
\newlength{\parindentsave}
\AtBeginDocument{\setlength{\parindentsave}{\parindent}}

\usepackage{booktabs} % beautiful line in table.
\usepackage{ctable} 
\let\ctabletnote\tnote  % \tnote collision with threeparttable, save to another .
\let\tnote\relax
\usepackage{threeparttable}
\let\tptabletnote\tnote % \tnote collision with ctable, save to another .
\let\tnote\relax
\newcommand*{\thead}[1]{\multicolumn{1}{c}{\bfseries #1}}


% for todo colors(ref: http://tex.stackexchange.com/questions/9796/how-to-add-todo-notes?noredirect=1)
\NewDocumentCommand{\todoUnsure}{O{} +m}{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\NewDocumentCommand{\todoChange}{O{} +m}{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\NewDocumentCommand{\todoInfo}{O{} +m}{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\NewDocumentCommand{\todoImprovement}{O{} +m}{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\NewDocumentCommand{\todoThiswillnotshowUnsure}{O{} +m}{\todo[disable,#1]{#2}}

% A example for define unit command.
\providecommand{\temp}[1]{$\SI{#1}{\degreeCelsius}$}
\providecommand{\symumm}[1]{$\SI{#1}{\milli\metre}$}
\providecommand{\symums}[1]{$\SI{#1}{\milli\second}$}
\providecommand{\symumM}[1]{$\SI{#1}{\milli\Molar}$}
\providecommand{\symumv}[1]{$\SI{#1}{\milli\volt}$}
\providecommand{\symuma}[1]{$\SI{#1}{\milli\ampere}$}

\providecommand{\abs}[1]{\lvert #1 \rvert } % Required package: amsmath

%%%%%%%% for codes %%%%%%%%%
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{codebgcolor}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{consoleStyle}{
    frame=single,
    %backgroundcolor=\color{codebgcolor},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{blue},
    numberstyle=\footnotesize\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\small\setstretch{1.0},
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=t,
    %caption={\protect\filename@parse{\lstname}\protect\filename@base\text{.}\protect‌​\filename@ext}, 
        % http://tex.stackexchange.com/questions/174541/only-get-filename-and-extension-of-listing-not-whole-path
    keepspaces=true,
    xleftmargin=0cm,
    numbers=none,
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4
}

\lstdefinestyle{LatexStyle}{
    language={[LaTeX]TeX},
    inputpath={./}, % must same as root tex
    frame=single,
    %backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{blue},
    numberstyle=\scriptsize\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize\setstretch{1.0},
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=t,
    %caption={\protect\filename@parse{\lstname}\protect\filename@base\text{.}\protect‌​\filename@ext}, 
        % http://tex.stackexchange.com/questions/174541/only-get-filename-and-extension-of-listing-not-whole-path
    keepspaces=true,
    xleftmargin=1cm,
    %xrightmargin=1cm,
    numbers=left,
    numbersep=5pt,
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,
    tabsize=4,
    preset=\setlength{\parindent}{\parindentsave} % \parindent in LTXexample 
        % http://tex.stackexchange.com/questions/98302/how-to-prevent-ltxexample-from-ignoring-the-paragraph-indentation
}

\lstset{style=LatexStyle} % default style
\renewcommand{\lstlistingname}{Code} % change title of caption to ``Code'' from ``Listing'' 
